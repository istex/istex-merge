const fs = require('fs-extra');
const { create } = require('xmlbuilder2');

/**
 * Generates a Hal TEI from a reference record.
 * @param {object} referenceRecord The reference record generated by `select`.
 * @param {string} path The path to write the TEI file to.
 * @returns {Promise} A Promise.
 */
function generateHalTEI (referenceRecord, path) {
  const fileContent = create(referenceRecord).end();

  return fs.outputFile(path, fileContent, 'utf-8');
}

module.exports = generateHalTEI;
